<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>How to replace ActionLink with image using Razor in ASP.NET MVC by Carlos-Liu</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>How to replace ActionLink with image using Razor in ASP.NET MVC</h1>
        <h2>ASP.NET MVC</h2>

        <section id="downloads">
          <a href="https://github.com/Carlos-Liu" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <p>Sometimes you will use <strong>ActionLink</strong> in the page, but the problem is that the view may look a little bit poor when the link's text is long, so at the moment it is better to replace the text by using an image. Below is the steps on how to achieve this</p>

<p>[Image]</p>

<h3>
<a id="create-an-extension-method" class="anchor" href="#create-an-extension-method" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Create an extension method</h3>

<pre><code>    ```csharp
namespace BCI.Nlcc.Extensions
{
  /// &lt;summary&gt;
  /// Extensions for HtmlHelper class
  /// &lt;/summary&gt;
  public static class HtmlHelperExtensions
  {
    /// &lt;summary&gt;
    /// Replace the action link with image using Razor
    /// &lt;/summary&gt;
    /// &lt;param name="html"&gt;&lt;/param&gt;
    /// &lt;param name="action"&gt;The name of the corresponding action.&lt;/param&gt;
    /// &lt;param name="routeValues"&gt;An object that contains the parameters for a route&lt;/param&gt;
    /// &lt;param name="imagePath"&gt;The path of the image file&lt;/param&gt;
    /// &lt;param name="alt"&gt;The alt attribute specifies an alternate text for an image, if the image cannot be displayed&lt;/param&gt;
    /// &lt;param name="tooltip"&gt;Tooltip of the image&lt;/param&gt;
    /// &lt;returns&gt;An anchor element (a element) with 'img' tag embedded.&lt;/returns&gt;
    public static MvcHtmlString ActionImage(this HtmlHelper html, string action, object routeValues, string imagePath, string alt, string tooltip = "")
    {
      // refer to http://stackoverflow.com/questions/4896439/action-image-mvc3-razor
      var url = new UrlHelper(html.ViewContext.RequestContext);

      // build the &lt;img&gt; tag
      var imgBuilder = new TagBuilder("img");
      imgBuilder.MergeAttribute("src", url.Content(imagePath));
      imgBuilder.MergeAttribute("alt", alt);
      imgBuilder.MergeAttribute("title", tooltip);
      string imgHtml = imgBuilder.ToString(TagRenderMode.SelfClosing);

      // build the &lt;a&gt; tag
      var anchorBuilder = new TagBuilder("a");
      anchorBuilder.MergeAttribute("href", url.Action(action, routeValues));
      anchorBuilder.InnerHtml = imgHtml; // include the &lt;img&gt; tag inside
      string anchorHtml = anchorBuilder.ToString(TagRenderMode.Normal);

      return MvcHtmlString.Create(anchorHtml);
    }
  }
}
    ```
</code></pre>

<h3>
<a id="update-the-webconfig" class="anchor" href="#update-the-webconfig" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Update the web.config</h3>

<p>If you intent to use the above method in multiple views, then do as below
In the "web.config" file in <strong>Views</strong> directory of your project (notice it is not the main web.config in project's root), find this section:</p>

<pre><code>&lt;system.web.webPages.razor&gt;
  &lt;pages pageBaseType="System.Web.Mvc.WebViewPage"&gt;
    &lt;namespaces&gt;
      &lt;add namespace="System.Web.Mvc" /&gt;
      &lt;add namespace="System.Web.Mvc.Ajax" /&gt;
      .
      .
      &lt;!-- etc --&gt;
    &lt;/namespaces&gt;
  &lt;/pages&gt;
&lt;/system.web.webPages.razor&gt;
</code></pre>

<p>you can add your custom namespace like this:</p>

<pre><code>    &lt;add namespace="Test.Extensions" /&gt;
</code></pre>

<p>that will add the namespace to all of .cshtml (and/or .vbhtml) files.</p>

<p>If you just want to use above method in a single page, you could simplely using the namespace at the top of your view</p>

<pre><code>  @using Test. Extensions
</code></pre>

<h3>
<a id="apply-in-the-view" class="anchor" href="#apply-in-the-view" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Apply in the View</h3>

<pre><code> @Html.ActionImage("EditAccount", new { userId = user.Id }, "~/Content/Images/editAccount.png", "Edit", "Edit the account)
</code></pre>

<h3>
<a id="other-tips" class="anchor" href="#other-tips" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Other Tips</h3>

<ul>
<li>It's better to use PNG or JPG image instead of BMP file</li>
<li>Try to use application relative paths (<code>~/Content</code>). The  path <code>../../Content</code> might not be valid from different routes (e.g. <code>/</code>, <code>/Home</code>, <code>/Home/Index</code>)</li>
</ul>

<h2>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>References</h2>

<blockquote>
<p><a href="http://stackoverflow.com/questions/4896439/action-image-mvc3-razor">http://stackoverflow.com/questions/4896439/action-image-mvc3-razor</a>
<a href="http://stackoverflow.com/questions/11716916/tooltip-on-image">http://stackoverflow.com/questions/11716916/tooltip-on-image</a>
<a href="http://stackoverflow.com/questions/3239006/how-do-i-import-a-namespace-in-razor-view-page/6723046#6723046">http://stackoverflow.com/questions/3239006/how-do-i-import-a-namespace-in-razor-view-page/6723046#6723046</a>
<a href="http://www.w3schools.com/tags/att_img_alt.asp">http://www.w3schools.com/tags/att_img_alt.asp</a></p>
</blockquote>
      </section>
    </div>

    
  </body>
</html>
